# 事故管理與營運持續


# 實體安全與營運安全

# 非技術性風險

## 人為破壞

盜賊入侵

社交工程

內部有心人士

## 自然災害

火災

水災

地震

## 公共事故

停電

停水

戰爭或社運

# 實體安全的目的

## 事前

在事前，防禦措施要達到嚇阻的效果，讓攻擊者知難而退。

## 事中

在事件發生中，我們希望能儘量拖延入侵者的行動，並儘快偵測

設計防禦措施時可以多考慮拖延與偵測的綜效。

## 事後

在偵測到入侵事件後，值勤人員要快速評估狀況並採取行動。

防禦措施要能記錄犯罪證據，做為事後追查與起訴的憑據。

# 外圍防禦

## 外圍防禦 (I)

外牆應設法與內部建築距離越遠越好。

如果入侵者在跨越外牆就被發現，值勤人員可以有較長的時間反應

如果入侵者在內部建築被發現，外牆的距離也可以拖延他的脫逃。

許多外牆與內部建築距離「太近」，反而成為入侵者進入室內的墊腳石。

外牆也用以界定私人領域。

一公尺的圍牆可以警示善意者不要進入

兩公尺的圍牆就較難攀爬

但要達兩公尺半以上的圍牆才能對專業入侵者產生拖延效果。

高安全需求的組織會在圍牆上再加有刺鐵絲網

一般可以給圍牆再增加半公尺高度且產生極佳的嚇阻及拖延的效果。

然而專業入侵者還是可以用厚毯或床墊通過有刺鐵絲網。

國外可以要求圍牆外不得停車，以降低入侵者的隱蔽性。但台灣人口稠密，較難做這種要求。

## 外圍防禦 (II)

>*門或其它形式的出入口都應被視為「弱點」來處理。

圍牆是禁止人或車輛進出的防禦設施

而門或其它形式的出入口雖有其功能的必要性，卻「破壞」了這種防禦的完整性，應謹慎評估。

門或出入口應該在「出入便捷」與「逃生安全」的基本條件下設立的越少越好，不使用的門或出入口應予妥善封閉。

門或出入口應設立適當的門禁管制 。

>*人工造景也可以用做實體防禦。

有的軍營會在牆邊種植九重葛等具有帶刺莖幹的爬藤植物

可以達到嚇阻或拖延的目的。

水塘或帶刺的矮樹叢可以將出入者限制在一定的通道上。

與偵測設備配合使用，可以縮小偵測之距離與幅度。

## 門禁管制

出入口常由警衛或接待員管制，依據不同安全需求

管制形態分為需要通報的、需要換證的、需要登記的、口頭詢問、或是完全不設限的

都能達到不同程度的犯罪嚇阻及訪客過濾。

警衛或接待員仍然是門禁管制的最佳選擇，他們人性化、機動、並且判斷合理，遠優於任何科技防禦設備。

但他們若缺乏訓練、沒有紀律則會造成組織「錯誤的安全感 (false sense of security)」

以為有保障而鬆懈，反而造成組織更加脆弱。

另一個問題是警衛或接待員常被同時指派其它工作，例如文書遞送、採購、甚至司機等，造成門禁管制的空窗時間。

## 門禁系統

無管理員之門禁系統以刷卡為主，可以做到身分認證與追蹤。

自動門禁系統的最大威脅就是有意或無意的夾帶他人過關

雙門管制使用於高安全需求區域，可有效地防制夾帶。

## 門鎖

門鎖是最傳統且常用的安全防禦設備之一，它可以嚇阻一般人，卻對專業入侵者防禦有限。

門鎖最好要搭配其它的防禦設備，並且不要有錯誤的安全感。

鎖有分機械鎖與電子鎖。

鎖匠或專業入侵者幾乎都可以開機械鎖。

一些未加密的電子鎖也可以複製鑰匙。

鎖匠或專業入侵者可以憑聲音開機械式對字鎖

電子式對字鎖的安全性則類似 ATM的PIN，可用窮舉攻擊或社交工程來取得密碼。

## 閉路監視設施

>*閉路監視系統 

是實體安全的重要設備。

閉路監視系統由前端的攝影機接收畫面，傳輸到後端的監視螢幕與儲存設備。

監視訊息可以來自一個或多個地點；也可以透過網際網路進行遠端監視。

>*閉路監視系統需要具備以下功能

偵測 (detection)：偵測到物件。

識別 (recognition)：識別那個物件是什麼。

指認 (identification)：指認物件的部分細節。

## 閉路監視設施 (II)

>*在裝置閉路監視系統時，應該儘量消除盲點 (blind spots)

應該依據地形地物安排攝影機。

是不可轉動的機器，要多裝幾台來提高監視覆蓋率

若是可轉動的機器，也應仔細測量覆蓋角度，避免死角。

在監視的過程應隨時維持良好的光線，攝影機不可能如人眼般靈敏，燈光稍暗就會嚴重降低識別能力。

較佳的閉路監視系統具備移動偵測功能 (motion detection)

當有物件在監視範圍內移動就會通知監視人員 (例如出現在監視螢幕上)

同時開始儲存畫面。若長時間沒有物件移動，就可節省人力及資源。

為了組織安全，閉路監視系統可能會侵犯隱私權，因此應該嚴格管控錄影內容，未經授權程序不得任意調閱。

## 入侵感應設備

裝設於圍牆上的入侵感應設備，出入口照明也帶有移動偵測功能；這些都有助於嚇阻及偵測目的。

入侵感應設備常因貓、鳥跨越而造成誤警報 (false alarm)

因此配合燈光照明與閉路監視系統使用，有助於正確地偵測與辨識。

>*入侵感應設備的種類較多

最常用於圍牆上的是當物件通過時，靠切割紅外線光束來感應。

被動式紅外線感應器可以感應體熱的輻射。也有利用超音波反射、微波感應或氣壓感應。

## 燈光照明

>*燈光照明對實體安全極為重要

燈光有嚇阻效果，盜賊不喜歡暴露在明亮的燈光下。

燈光有助於入侵偵測，閉路監視系統尤其需要足夠的亮度，畫面清晰度也有助於狀況評估與蒐證。

關燈的理由通常是節約能源或是維持睡眠品質。

>*在照明設計上可以搭配使用以下幾種燈光的特性

持續燈光：就是一般的照明設施，因節約能源的考量，部分持續燈光需要限時關閉

但重要區域則建議維持二十四小時照明。

觸動燈光：因偵測到移動、熱度或其他改變所觸發的燈光。

緊急照明：當斷電時啟動的燈光，不只保護人員進出安全，也能暫時遏止因停電所發生的竊盜行為。

## 隔離區域

重要或機密的資訊與設備必須放置於高安全性的隔離區域。

隔離區域最好能夠不貼建築的外牆，可以多一層防禦。

隔離區域的牆壁最好是實心的磚牆；若不得不使用輕隔間牆，請注意牆是否從地板連接到建築物的實心天花板。

有時為了方便拉管線，牆與天花板間留有距離，只要推開活動天花板就可以攀爬進入。

有的建築設計了很大的冷氣或抽風機出風口，入侵者沿著風管可爬進隔離區域。

可以考慮安裝入侵感應系統，安裝於窗戶、門、天花板、牆壁，或冷氣出風口等任何可能出入的位置。

可以同時使用不只一種的進出管制，形成多重要素認證。

## 三層安全模型

>*重要資訊設備及資料應有三層的實體安全管控，以右圖的學校為例

第一層是外圍，像是學校圍牆、警衛室、以及電資大樓。一般滋事份子會被擋在這層之外。

第二層是電算中心，上班時有人值班，下班後會閉鎖。非公務人員不會進入這層。

第三層則為電腦機房，正常狀態為閉鎖。只有經過授權、且通過身分認證者可以進出，並需留下記錄。

## 電腦設備的保護

隨著電腦越做越小 (如筆記型電腦、PDA、智慧手機等)，這項風險將越來越高。

可攜式電腦在非攜帶時要能鎖在桌上，以防順手牽羊。

重要資料要加密保護並留有備份，開機要密碼保護。

可考慮安裝追蹤軟體，提供服務的公司類似在BIOS內植入木馬 (好的木馬)，即使電腦遭竊且硬碟被格式化，仍可從遠端操控這台電腦。

敏感資料儘量存於組織的伺服器，而非個人電腦。

## 防範社交工程 – 員工教育訓練

>*資訊安全認知 (awareness)

目的是讓大家注意資訊安全的重要。

可以播放錄影帶、在組織內部刊物撰文宣導、製作海報等。

若以演講方式實施，通常不會談太深入的細節，可以多講案例和攻擊者的手法等。

>*資訊安全訓練 (training)

著重於訓練工作上所需要的資訊安全知識與技巧。

要說明組織的安全需求，並讓員工知道自己對資訊安全所應盡的責任。

對個別員工可能需要更深入的訓練，例如設定防火牆或執行資訊安全內部稽核等。

>*資訊安全教育 (education)

訓練通常專注在必須的技巧；教育則更深入與全面。

較大型的組織應該培植自己的資訊安全專家 (例如取得CISSP 或 ISMS-LA 證照者)，負責公司資訊安全工作，並訓練其他員工。

## 人事安全原則

應妥善定義組織內的角色與責任 (R&R)，並讓每位員工清楚自己與相關人員的工作內容。

讓員工知道自己工作範圍內所需要知道的機密即可。

不要讓極重要或機密的事物掌握在一個人的手裡。

讓不同職務的人有機會主動或被動的輪調，經過輪調容易使弊端暴露。

讓員工必須休假，透過職務代理人比較有機會瞭解弊端。

## 第三方人員管理

>*組織內部人員可以經由進用審查、教育訓練、人事安全原則等方式管理

但是第三方人員 (third party) 常成為管理盲點。

清潔工每周六單獨打掃公司，有沒有人查過她的背景？

資訊室讓工讀生負責維護公司資料庫，他有沒有簽過保密合約？

>*易造成安全管理盲點的第三方人員 包括：

服務於組織內的供應商，如清潔工、員工餐廳服務員、契約工等。

長期契約人員，例如 104派遣人力。由於長期工作於組織內，常被視為員工，但卻未接受員工該有審查與訓練。

工讀生或臨時人員也不應該被指派機密或敏感的工作。

關係緊密的客戶也可能造成類似的管理盲點。

## 自然災害與火災的預防

人為攻擊通常只造成局部損失，例如一部電腦失竊或一台伺服器遭駭客入侵

但自然災害如火災、水災，常會造成全面損失，例如：付之一炬！

自然災害只破壞資訊的可用性 (A)，但與機密性 (C) 和完整性 (I) 無關。

因此防禦方法以系統備援或資料備份為主，只要能延續可用性就大致沒問題。

對資訊威脅最大的自然災害應屬火災。它其實是「半自然」的災害，因為起火原因常是人為疏失或刻意縱火。

## 火災偵測器

>*離子型煙幕偵測器 (ionization-type smoke detectors)：

火焰燃燒產生導電之離子，使接收器中的電流訊號增強。

>*光學偵測器 (optical detectors)：

火焰燃燒所產生之煙幕會阻斷偵測器內部的光訊號。

>*溫度偵測器 (heat detectors)：

火焰燃燒造成偵測器氣室中線圈的溫度改變，並產生電阻與電壓的變化。

## 滅火設備

>*二氧化碳 (CO2) 滅火器

無色、無臭，以二氧化碳取代氧氣產生滅火效果。

乾粉式、泡沫式、與氣體式滅火器都使用類似原理

但因產生二氧化碳方法不同而適用於不同的燃燒。

>*氣體性滅火藥劑 (如FM200) 

平常以液態加壓存於容器內，啟動噴放時即汽化迅速與空氣混合

是一種快速滅火藥劑。

>*灑水設備

雖然水未必適用於所有的燃燒，但取得快速、量也最大。

## 水災防禦

>*從資訊安全的角度，我們可以採取以下防禦措施來降低水災損失

電腦機房儘量不設在地下室或一樓；若不得已，則需備沙包等阻水工具。

淹水未必發生於地下室或一樓，豪雨滲入或水管破裂也會造成樓上淹水。

裝置淹水感應器，有水滲入機房或重要區域就啟動警報器。

注意氣象報導，做好防颱準備。

## 降低地震及其他天然災害損失

台灣震災頻傳 (九二一的記憶猶新)。

相較於火災及水災，我們無法以預防措施來降低地震的發生機率，也很難以預報系統提早準備

我們只能設法降低地震對資訊安全造成的衝擊。

>*以下幾項措施有助於降低地震損失，也適用於其它災害防制

建立完整的系統備援及資料備份。

「異地備援」與主機房最好距離三十公里以上，避免處在同一地震帶。

地震常會造成網路中斷，因此要有備援電路。

一些大型組織在平時就同時使用多家電信業者的服務。

機架應固定在地板上，若有多個機架則彼此鎖定互為支撐。

重要電腦設備要固定在機架上，不可散置於桌上。

## 公共事故引發的損失

類似自然災害，公共事故給資訊安全造成的衝擊主要也是破壞資訊的可用性，同時也不是受害者所能控制的。

>*資訊系統需要穩定的電源，因此停電或是電源不穩定是一重大威脅。
 
  重要的設備應該有不斷電系統 (UPS)，組織最好自備發電機以備不時之需；若經費允許可增加備援UPS與發電機。

  自備發電機除了能讓資訊系統在停電時持續運作外，也可供應機房冷氣機的電源，避免密閉機房的溫度升高造成電腦故障。

停水對資訊系統的衝擊在於部分冷氣為水冷式，停水時間一長，冷氣就不能運轉。因此機房宜使用氣冷式冷氣設備。

戰爭、示威、罷工等社會動亂也會對資訊安全造成不同程度的威脅，應以實體安全搭配備援、備份等措施因應。

## 媒體資料的清除

以作業系統刪除檔案只是將該檔案標示為已刪除，卻並未真正刪去資料。

清除磁碟資料更有效的方法是將原存放機密資料的區域反覆地重疊寫入 (overwrite) 0 或 1 或隨機亂數。

對極機密的資料來說，以正常磁頭寫入還是可能殘留「資料剩磁 (data remanence)」。

這時可以使用磁場中和機 (degausser) 將磁碟內每位元的磁性都調為中性。

清除敏感資料的最終極方法，就是以切割、重擊等方式實體地摧毀磁碟。

## 磁碟損毀與 RAID

>*失去資料有三種可能原因：

第一種是遭到技術性的攻擊，如駭客或病毒；防禦方法也多為技術性的。

第二種是受到實體破壞，如竊盜或火災；防禦方法為實體安全措施。

第三種是磁碟損毀 (disk failure)；防禦方法之一是即時備援與復原。

>*RAID (redundant array of independent disks, 中譯為磁碟陣列)

使用多餘磁碟進行資料複製，當一個磁碟損毀時，其它磁碟上的相同資料可以自動替補，使系統運作不會中斷。

損毀的磁碟可以在不關機的狀況下更換，稱為熱備用 (hot spare)。

在磁碟陣列中再多加一個磁碟做為備用，當一個磁碟損會時，備用磁碟就會自動替補，不需要關機更換。

# 4_1_事件與事故管理

## 世事難料

## 災難造成的影響

>*直接的財產損失

火災或地震等天災常在一夕間破壞建築物與不動產價值，未充分保險的企業會面臨巨大財務壓力。

未妥善備份、備援的資訊資產也是無法恢復的直接損失。
客戶失去信心

設想一家專業的網路資料中心 (IDC) 被火災燒毀，即使事後獲得保險理賠，也可能因失去客戶而倒閉。

>*災害復原成本過大

就算災難後沒有立即的財務缺口，企業未必能支付持續的復原與重建的成本。

>*失去關鍵技術或生產能力

資訊資產被毀，可能會失去智慧財產。若組織只備份「結果」卻沒有「過程」，會造成技術無法複製。

>*失去主要領導人或技術擁有者

人員傷亡也可能造成企業無法彌補的傷害，有些企業規定主要經理人不可搭乘同一交通工具。

## 緊急應變計畫與風險管理

風險管理要識別威脅與弱點，並建置適當的防禦手段來避免事件的發生或降低它造成的衝擊。

其次，風險管理要識別殘餘風險，讓緊急應變計畫來處理。

緊急應變計畫與風險管理的關係，平時就應做好風險管理與安全防禦控制，同時準備並演練緊急應變計畫。

一旦緊急事件發生，就按照應變計畫度過難關。

## NIST 800-34 的七個步驟

>*一.建立緊急應變政策

1.尋找相關條文與需求

2.建立緊急應變政策

3.核准政策

4.宣導政策

>*二.進行業務衝擊分析

1.識別主要資訊資源

2.識別衝擊與承受度

3.訂定復原的順序

>*三.識別預防控制

1.建置控制

2.維護控制

>*四.訂定復原策略

1.識別方法

2.將方法整合進系統架構

>*五.建立緊急應變計畫

1.支援訊息

2.通知與啟動階段

3.復原階段

4.重建階段

>*六.訓練、測試、演練

1.建立測試的目標

2.設定成功的標準

3.記錄經驗

4.整合進計畫

5.訓練員工

>*七.計畫的維護

1.檢討及更新計畫

2.協調內、外部組織

3.控制文件的分發

4.控制文件的變更

## 一.建立緊急應變政策

為了讓全體員工有清楚的認知，建立緊急應變政策 (contingency planning policy statement )是第一步。

高階主管必須支持緊急應變方案，最適合的層級是組織的資訊長 (Chief Information Officer, CIO)。

>*緊急應變政策的主要成分應包括

角色與責任

緊急應變計畫的範圍

所需要的資源

所需要的訓練

演練與測試的時間表

計畫維護的時間表

備份的頻率與媒體備份的存放

## 緊急應變政策範例

>*ABC 單位資訊技術緊急應變政策

所有 ABC 轄下組織都必須為主要應用或一般支援系統建立緊急應變計畫

以符合當重要資訊營運中斷超過七十二小時之需求。

緊急應變協調人須將這種能力的執行程序寫成正式的緊急應變計畫

並且每年檢討，若有需要應由緊急應變協調人更新之。

這些程序必須包括每晚執行完整備份，並送到指定的異地場所。

這個計畫應指派責任給特定的員工或職位的人，來復原或持續重要的資訊功能。

應取得並且維持必須的資源以確保程序可行。

負責目標系統的員工必須接受訓練，以執行緊急應變程序。

必須每年針對這個計畫、復原能力、與員工進行測試，來識別各項能力的弱點。

## 進行業務衝擊分析

業務衝擊分析 (business impact analysis, BIA) 類似風險管理中的風險評鑑，它是緊急應變程序的主要環節。

>*緊急應變協調人 (Contingency Planning Coordinator) 藉由 BIA 釐清系統的需求、程序、與相互依存性，再以此決定緊急應變的需求與先後順序

識別主要資訊資源：有點像風險評鑑裡清查資訊資產，目的是確定保護的目標。

  BIA所識別的資訊資源是比較重要的項目，中斷服務會造成業務重大衝擊。

識別衝擊與承受度：風險管理以防禦措施降低事件發生的機率與衝擊，但仍留有殘餘風險。

例如再多防火措施不可能根絕火災。BIA識別這種衝擊，並了解組織的承受度。

訂定復原的順序：依據衝擊與承受度的分析來決定哪些設備或元件需要優先復原。

## 識別預防控制

### 識別預防控制 (I)

緊急事件發生後的應變與復原固然重要，但更應採取事先的預防控制手段來避免事故或降低衝擊。

相較於資訊安全的風險防禦措施，緊急應變計畫裡的預防控制更針對緊急的、摧毀性的事件。

>*預防控制可以做的很多，應依據組織的 BIA 做規劃。以下是 NIST SP800-34 建議的一些項目

適當的裝置不斷電系統 (UPS) 提供短時間的備援電力。

準備汽油或柴油發電機提供長時間的備援電力。

冷氣系統要比需要的更多、更強，以容忍偶發的故障。

充分的滅火設備。

裝置火焰及煙幕感應器。

### 識別預防控制 (II)

在電腦機房的天花板及地板裝置滲水、淹水感應器。

電腦設備上可以覆蓋塑膠布或上油帆布以防護屋頂漏水造成的損失。

備份磁帶、磁碟等媒體以及重要紙本記錄應置於抗熱、防水的容器中。

應有緊急總開關可以關閉系統。

備份磁帶、磁碟等媒體、重要紙本記錄、以及系統文件應做異地存放。

建置技術性的安全控制，例如加密金鑰管理與存取控制等。

經常且有紀律的備份。

## 訂定復原策略

復原策略 (recovery strategies) 讓資訊服務在災後能快速、有效的恢復。

訂定復原策略 應多考慮各種選擇，包括成本、允許的中斷時間、安全、與企業需求等。

復原策略應該針對 BIA 所分析的潛在衝擊，同時要在設計階段就整合進系統架構中。

>*有很多的復原方法可供選擇，會在後面幾頁詳細討論。這些方法包括

與提供熱備援、暖備援、及冷備援廠商簽約，建立異地復原的能力。

使用 RAID、UPS、與故障復原 (failover) 等科技來提升系統之可復原性。

與設備供應商簽定長期服務合約，在災難時可以得到最好的支援。

## 異地備援

>*冷備援 (cold sites)

具備足夠的基礎設施，如機房、水、電、及辦公室空間

但是沒有軟硬體設備或電話、傳真等辦公設備。

受災害衝擊的單位進駐後才重新建立系統，需要數周的時間復原資訊服務。

>*暖備援 (warm sites)

有部分資訊與辦公室設備；平時這個地點及設備可能做為它用

當緊急應變計畫啟動，受災害衝擊的單位進駐後，會在現有設備上重建系統，需要幾天到數周的時間復原資訊服務。

>*熱備援 (hot sites)

隨時軟硬體及人員準備妥當，一旦緊急應變計畫啟動，可在幾小時內復原資訊服務。

>*全備援 (mirrored sites)

平時就與主機房完全同步備援，系統完全相同且資訊即時備份。一旦主機房服務中斷，備援系統立即啟動。

## 建立緊急應變計畫

>*通知與啟動階段 (notification/ activation phase)

當災難發生時應按程序通知上級和相關人員；經過損失評估後若有必要，就可以依照程序啟動緊急應變計畫。

>*復原階段 (recovery phase)

災難發生後，短期的重點是如何快速地復原資訊服務；這一階段說明復原活動的順序與標準作業程序。

例如一家在台北的公司因淹水導致機房被毀，復原階段指導如何在二十四小時內啟動位於桃園的備援設備。

>*重建階段 (reconstitution phase)

災難結束後就要重建原地點，當系統重裝或修復並通過測試後，就可以停止備援系統並結束緊急應變計畫。

以上述的例子，重建階段指導該公司如何在大水退去後重建台北主機房。

## 事件通知

有的事件發生前會有預報 (例如颱風)，有的沒有 (例如盜匪侵入)。

事件通知程序要因應以上兩種狀況，並且明文載入緊急應變計畫中。

程序書應清楚說明在上班時間及下班或例假日如何通知應變人員。

快速、有效的事件通知是應變的前提。

有時候還來得及阻止災害發生，例如颱風夜漲大水，一家公司立刻堆起沙包，而另一家等到天亮才處理，兩者的損失將不可同日而語。

即使來不及阻止災害發生，快速通知與反應也有助於復原速度。

「通知樹 (call tree)」是一種常用的事件通知方法。

由一個人打電話通知所有人會花太長時間，所以事先將大家結成樹狀組織，接到通知的人負責再通知另外幾個人，可以縮短通知時間。

>*通知的訊息應包括

災害的種類、是否有人員傷亡、資產損失、已採取的措施、以及對後續行動的指示。

## 復原階段

復原階段在緊急應變計畫被啟動後開始，這時組織已完成損失評估、通知相關人員、並已動員各應變小組。

復原活動主要在建立暫時的資訊處理能力，修復受損系統，並在原址或異地復原資訊服務能力。

復原程序應該逐步的描述每個系統元件的復原順序。

例如災害之後若要復原一個區域網路，應該從最重要的伺服器先恢復，最後才處理不重要的元件像是印表機。

計劃書要說明什麼狀況需要做異地復原，並且詳細規劃流程。同時要組成特別小組負責運送設備、資料與重要紀錄。

緊急應變計劃被使用於重大事故或緊急狀態，因此標準作業程序書需要逐步的清楚描述。

不應假設任何人在慌亂中還會有冷靜的判斷力或足夠的推敲思考時間。

## 計畫啟動

災難發生以後應優先通知損失評估小組 (Damage Assessment Team)

在評估完系統所受的衝擊之後，再將結果及應採取的措施通知相關部門及個人。

若損失符合一個或多個啟動條件 (activation criteria)，緊急應變協調人或資訊長就該啟動緊急應變計畫。

>*組織可依據以下狀況來訂定啟動條件，並記載於緊急應變計畫文件中。

人員傷亡以及設施的損失程度。

系統遭受損失的程度。

遭受損失的系統對組織運作的重要性。

預計服務中斷的時間長度。

## 重建階段

>*重建階段是從緊急狀態回復正常狀態，把營運從備援系統轉移回主系統。這個階段應詳細描述以下操作程序

確定恢復正常的基礎建設，如水、電、通訊、環境控制等。

重建主系統的軟、硬體。

建立對外的網路連結。

測試系統運作，確定完全正常。

將緊急應變系統上的資料上載到重建的系統上。

關閉緊急應變系統。

結束緊急應變狀態。

清除或處理緊急應變地點的敏感資訊。

人員回到原先的工作場所。

## 訓練、測試、演練

所有員工都應該熟悉緊急應變計畫，參與應變編組的人更要接受訓練了解相關程序。

緊急應變計畫必須接受測試，可讓計劃不周延之處浮現。

組織也要經過實境演練才能評估負責災難復原的員工是否能快速、有效地執行計畫。

>*要有一個測試計畫來測試緊急應變計畫，下面的領域應該包括在測試裡

從備份媒體中將系統復原到不同的平台。

各個應變小組間的協調。

組織內部與外部的連絡。

測試系統在不同設備上的效能。

重建正常的運作。

測試災害通知程序。 

# 4_2_備援與營運持續

# 備援

## 磁碟損毀與 RAID

>*失去資料有三種可能原因：

第一種是遭到技術性的攻擊，如駭客或病毒；防禦方法也多為技術性的。

第二種是受到實體破壞，如竊盜或火災；防禦方法為實體安全措施。

第三種是磁碟損毀 (disk failure)；防禦方法之一是即時備援與復原。

RAID (redundant array of independent disks, 中譯為磁碟陣列) 使用多餘磁碟進行資料複製

當一個磁碟損毀時，其它磁碟上的相同資料可以自動替補，使系統運作不會中斷。

>*損毀的磁碟可以在不關機的狀況下更換，稱為熱備用 (hot spare)。

在磁碟陣列中再多加一個磁碟做為備用

當一個磁碟損會時，備用磁碟就會自動替補，不需要關機更換。

## RAID 0

RAID 0 把資料按順序平均分布在數個磁碟機上

這種作法或稱為插敘 (interleaving)。

如右圖的磁碟陣列裡有四台磁碟機，我們將資料依照位元組分布其上。

RAID 0 並沒有備援 (redundancy) 功能；它主要目的是提高系統對磁碟機的讀取速度。

## RAID 1 & 2

>*RAID 1

將一筆資料忠實地複製 (mirror) 到另一個或多個磁碟機上

它提供 100% 的資料備援，而且裝置很簡單。

另外，在讀資料時，RAID 1 也具備插敘效果，可提升速度
。
RAID 1 的缺點是價格高，因為每筆資料都做複製，所需磁碟數量即成倍數。

>*RAID 2 

並沒有在商業上被使用。

它做位元級的插敘，並以 Hamming Code 做錯誤更正，所需磁碟陣列太大並不實用。

## RAID 3 & 4

>*RAID 3

類似 RAID 0 將資料按順序平均分布在數個磁碟機上

增加一個磁碟機存放同位元 (parity)，這個值是依資料磁碟中插敘的位元組運算出來的

當任一磁碟損毀，它上面的資料可以靠同位元做復原。

RAID 3 兼顧讀取速度與備援功能。

>*RAID 4

與 RAID 3 類似，但不用位元組插敘，而是使用資料塊 (blocks)。

## RAID 5 & 6

>*RAID 5

與 RAID 4 一樣使用資料塊插敘，並計算後儲存同位元。

但是 RAID 5 不是將同位元集中在一個磁碟中，而是平均分散在所有磁碟裡。

有 RAID 3/4 的好處，同時又可避免同位元磁碟被過度使用的缺點。

任何資料寫入都需要重算同位元並寫入，因此同位元磁碟壽命最短。

>*RAID 6

比 RAID 5 再多加一個同位元，可以容忍兩個磁碟機同時損毀。

>*RAID 10

又稱為 RAID 1+0，因為它將資料做完全備援 (RAID 1) ，將幾個 RAID 1組成 RAID 0 做插敘

很貴，但它同時擁有高讀寫速度與備援功能。

它也有機會容忍超過一台磁碟機損毀

## 備份與備援

「備份」通常指資料的一個靜態副本

「備援」則指動態的、系統持續運作中的救援措施。

>*用備份/備援來保護資料時，我們可以考慮以下的層次：

資料備份：組織定期的備份資料，為求備份完整，會整個磁碟做複製。

磁碟陣列容錯(RAID)：在運算中維護資料的完整性與可用性。

異地備援[遠端即時備份]：透過網際網路或專線，即時的在遠端建立備份。一旦系統需要復原的話，遠端所儲存的是最新的備份。

備援伺服器：不只備份資料，還有相同的伺服器做故障復原 (failover)。

備援服務：整個系統完整複製 (可能在另一個地方)，一旦主機房主機房因故無法運作，備援服務能在幾分鐘內啟動。

## 異地備援

>*冷備援 (cold sites)：具備足夠的基礎設施

如機房、水、電、及辦公室空間

但是沒有軟硬體設備或電話、傳真等辦公設備。

受災害衝擊的單位進駐後才重新建立系統，需要數周的時間復原資訊服務。

>*暖備援 (warm sites)：有部分資訊與辦公室設備

平時這個地點及設備可能做為它用

當緊急應變計畫啟動，受災害衝擊的單位進駐後，會在現有設備上重建系統

需要幾天到數周的時間復原資訊服務。

>*熱備援 (hot sites)：隨時軟硬體及人員準備妥當

一旦緊急應變計畫啟動，可在幾小時內復原資訊服務。

>*全備援 (mirrored sites)：平時就與主機房完全同步備援，系統完全相同且資訊即時備份。

一旦主機房服務中斷，備援系統立即啟動。

# 營運持續




